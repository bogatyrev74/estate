!function(a){a.fn.energyefficiencydisplay=function(b){var c=a.extend({base:450,legend:[{pos:30,description:"Passivhaus",color:"green"},{pos:110,description:'<abbr title="Einfamilienhaus">EFH</abbr> Neubau',color:"green"},{pos:200,description:'<abbr title="Einfamilienhaus">EFH</abbr> energetisch gut modernisiert',color:"yellow"},{pos:270,description:"Durchschnittliches Wohngebäude",color:"orange"}],legendToggleClosedText:"Weitere Infos zum Verbrauchskennwert",legendToggleOpenedText:"Legende ausblenden"},b);return this.each(function(){$this=a(this);var b=$this.attr("data-consumption");b||(b=0);var d=b/c.base*100,e=b.toString().replace(".",",")+' <span class="ee-unit">kWh/m²</span>';$this.append('<div class="ee-display"><div class="ee-consumption" style="left:'+d+'%">'+e+'</div><div class="ee-bar"></div></div>');var f=a("<div/>",{"class":"ee-legend"}).appendTo($this),g=a("<p/>",{"class":"ee-legend-head"}),h=a("<a/>",{"class":"ee-legend-toggle",href:"#"});h.html(c.legendToggleClosedText),g.append(h),f.append(g),a.each(c.legend,function(){var b=a("<div/>",{"class":"ee-legend-item ee-legend-item__"+this.color});b.append('<div class="ee-legend-item-desc">'+this.description+' <span class="ee-legend-unit">ca. '+this.pos+"</span></div>");var d=this.pos/c.base*100;b.attr("style","left:"+d+"%;"),b.appendTo(f)}),h.on("click",function(b){f.toggleClass("ee-legend__open");var d=a(this);d.html()===c.legendToggleClosedText?d.html(c.legendToggleOpenedText):d.html(c.legendToggleClosedText),b.preventDefault()})})}}(jQuery);